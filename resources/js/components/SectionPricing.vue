<template>
    <section class="py-8 py-md-8 " id="sectionprice">
        <div class="container-lg">
          <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8 text-center">
  
              <!-- Heading -->
              <h2 class="head-title text-bold mb-0">
                Paket Hosting Singapura yang Tepat
              </h2>
  
              <!-- Text -->
              <p class="head-description ">
                Diskon 40% + Domain dan SSL Gratis untuk Anda
              </p>
  
            </div>
          </div> <!-- / .row -->
          <div class="row align-items-top no-gutters pt-8">
            <div class="col-12 col-md-3 ">

                <!-- Card -->
                <div class="card price-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="card-header text-center bg-white border-bottom">
                        <h4 class="mb-0 head-title">Bayi</h4>
                    </div>
                <!-- Body -->
                    <div class="card-body py-6 py-md-2 border-bottom">
                        <div class="row justify-content-center ">
                            <div class="col-12 col-xl-12 ">
                                <!-- Price -->
                                <p class="text-center text-muted normalprice" >
                                    Rp. <span id="bayi_price_before_discount">19.900</span>
                                </p>

                                <div class="d-flex justify-content-center">
                                    <span class="h3 mb-0 mt-2 mr-1">Rp</span>
                                    <span class="price display-2 mb-0"> <b id="bayi_price_after_discount1">14</b></span>
                                    <span class="h3 mb-0 mt-2"><b id="bayi_price_after_discount2">.900</b>/ bln</span>
                                </div>
            
                            </div>
                        </div> <!-- / .row -->
                    </div>

                    <div class="card-body py-6 py-md-2 border-bottom">
                        <div class="row justify-content-center ">
                            <div class="col-12 col-xl-12 text-center">
                                <!-- Price -->
                                <small class="price-feature">
                                    <b>3.000</b> pengguna terdaftar
                                </small>
            
                            </div>
                        </div> <!-- / .row -->
                    </div>
                    <div class="card-body py-6 py-md-5 border-bottom">
                        <div class="row justify-content-center ">
                        <div class="col-12 col-xl-12 text-center price-feature">
                            <!-- Price -->
                            <small> <b>0.5X RESOURCE POWER</b></small><br>
                            <small> <b>500 MB</b> Disk Space</small><br>
                            <small> <b>Unlimited</b> Bandwidth</small><br>
                            <small> <b>Unlimited</b> Databases</small><br>
                            <small> <b>1</b> Domain</small><br>
                            <small> <b>Instant</b> Backup</small><br>
                            <small> <b>Unlimited SSL</b> Gratis Selamanya</small><br>
        
                        </div>
                        <div class="col-12 text-center mt-7">
                            <a class="btn btn-white btn-rounded-circle s btn-outline-black lift py-2 px-5 btn-sm small">Pilih Sekarang</a>
                        </div>
                        </div> <!-- / .row -->
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-3 ">

                <!-- Card -->
                <div class="card price-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="card-header text-center bg-white border-bottom">
                        <h4 class="card-title mb-0">Pelajar</h4>
                    </div>
                <!-- Body -->
                <div class="card-body py-6 py-md-2 border-bottom">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 ">
                        <!-- Price -->
                        <p class="text-center text-muted normalprice" >
                            Rp. <span id="pelajar_price_before_discount">19.900</span>
                        </p>

                        <div class="d-flex justify-content-center">
                            <span class="h3 mb-0 mt-2 mr-1">Rp</span>
                            <span class="price display-2 mb-0"> <b id="pelajar_price_after_discount1">14</b></span>
                            <span class="h3 mb-0 mt-2"><b id="pelajar_price_after_discount2">.900</b>/ bln</span>
                        </div>
    
                    </div>
                    </div> <!-- / .row -->
                </div>

                <div class="card-body py-6 py-md-2 border-bottom">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 text-center">
                        <!-- Price -->
                        <small class="price-feature">
                            <b>3.000</b> pengguna terdaftar
                        </small>
    
                    </div>
                    </div> <!-- / .row -->
                </div>
                <div class="card-body py-6 py-md-5 border-bottom">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 text-center price-feature">
                        <!-- Price -->
                        <small> <b>1X RESOURCE POWER</b></small><br>
                        <small> <b>Unlimited</b> Disk Space</small><br>
                        <small> <b>Unlimited</b> Bandwidth</small><br>
                        <small> <b>Unlimited</b> POP3 Email</small><br>
                        <small> <b>Unlimited</b> Databases</small><br>
                        <small> <b>10</b> Addon Domains</small><br>
                        <small> <b>Instant</b> Backup</small><br>
                        <small> <b>Domain Gratis</b> Selamanya</small><br>
                        <small> <b>Unlimited SSL</b> Gratis Selamanya</small><br>
    
                    </div>
                    <div class="col-12 text-center mt-7">
                        <a class="btn btn-white btn-rounded-circle s btn-outline-black lift py-2 px-5 btn-sm small">Pilih Sekarang</a>
                    </div>
                    </div> <!-- / .row -->
                </div>
    
    
                </div>
    
            </div>
            <div class="col-12 col-md-3 ">

                <!-- Card -->
                <div class="card price-card border-primary" data-aos="fade-up" data-aos-delay="200">
                    <div class="ribbon ribbon-top-left"><span>BEST SELLER!</span></div>
                    <div class="card-header text-center  border-bottom bg-primary text-white border-primary">
                        <h4 class="card-title mb-0">Personal</h4>
                    </div>
                <!-- Body -->
                <div class="card-body py-6 py-md-2 bg-primary border-bottom text-white border-primary">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 ">
                        <!-- Price -->
                        <p class="text-center text-white normalprice" >
                            Rp. <span id="personal_price_before_discount">19.900</span>
                        </p>

                        <div class="d-flex text-white justify-content-center">
                            <span class="h3 mb-0 mt-2 mr-1">Rp</span>
                            <span class="price display-2 mb-0"> <b id="personal_price_after_discount1">14</b></span>
                            <span class="h3 mb-0 mt-2"><b id="personal_price_after_discount2">.900</b>/ bln</span>
                        </div>
    
                    </div>
                    </div> <!-- / .row -->
                </div>

                <div class="card-body py-6 py-md-2 border-bottom bg-secondary border-secondary ">
                    <div class="row justify-content-center ">
                        <div class="col-12 col-xl-12 text-center">
                            <!-- Price -->
                            <small class="price-feature text-white">
                                <b>10.000</b> pengguna terdaftar
                            </small>
        
                        </div>
                    </div> <!-- / .row -->
                </div>
                <div class="card-body py-6 py-md-5 border-bottom">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 text-center price-feature">
                        <!-- Price -->
                        <small> <b>3X RESOURCE POWER</b></small><br>
                        <small> <b>Unlimited</b> Disk Space</small><br>
                        <small> <b>Unlimited</b> Bandwidth</small><br>
                        <small> <b>Unlimited</b> POP3 Email</small><br>
                        <small> <b>Unlimited</b> Databases</small><br>
                        <small> <b>Unlimited</b> Addon Domains</small><br>
                        <small> <b>Instant</b> Backup</small><br>
                        <small> <b>Domain Gratis</b> Selamanya</small><br>
                        <small> <b>Unlimited SSL</b> Gratis Selamanya</small><br>
                        <small> <b>Private</b> Name Server</small><br>
                        <small> <b>SpamAssasin</b> Mail Protection</small><br>
    
                    </div>
                    <div class="col-12 text-center mt-7">
                        <a class="btn btn-primary text-white btn-rounded-circle lift py-2 px-5 btn-sm small">Pilih Sekarang</a>
                    </div>
                    </div> <!-- / .row -->
                </div>
    
    
                </div>
    
            </div>
            <div class="col-12 col-md-3 ">

                <!-- Card -->
                <div class="card price-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="card-header text-center bg-white border-bottom">
                        <h4 class="card-title mb-0">Bisnis</h4>
                    </div>
                <!-- Body -->
                <div class="card-body py-6 py-md-2 border-bottom">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 ">
                        <!-- Price -->
                        <p class="text-center text-muted normalprice" >
                            Rp. <span id="bisnis_price_before_discount">19.900</span>
                        </p>

                        <div class="d-flex justify-content-center">
                            <span class="h3 mb-0 mt-2 mr-1">Rp</span>
                            <span class="price display-2 mb-0"> <b id="bisnis_price_after_discount1">14</b></span>
                            <span class="h3 mb-0 mt-2"><b id="bisnis_price_after_discount2">.900</b>/ bln</span>
                        </div>
    
                    </div>
                    </div> <!-- / .row -->
                </div>

                <div class="card-body py-6 py-md-2 border-bottom">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 text-center">
                        <!-- Price -->
                        <small class="price-feature">
                            <b>3.000</b> pengguna terdaftar
                        </small>
    
                    </div>
                    </div> <!-- / .row -->
                </div>
                <div class="card-body py-6 py-md-5 border-bottom">
                    <div class="row justify-content-center ">
                    <div class="col-12 col-xl-12 text-center price-feature">
                        <!-- Price -->
                        <small> <b>3X RESOURCE POWER</b></small><br>
                        <small> <b>Unlimited</b> Disk Space</small><br>
                        <small> <b>Unlimited</b> Bandwidth</small><br>
                        <small> <b>Unlimited</b> POP3 Email</small><br>
                        <small> <b>Unlimited</b> Databases</small><br>
                        <small> <b>Unlimited</b> Addon Domains</small><br>
                        <small> <b>Instant</b> Backup</small><br>
                        <small> <b>Domain Gratis</b> Selamanya</small><br>
                        <small> <b>Unlimited SSL</b> Gratis Selamanya</small><br>
                        <small> <b>Private</b> Name Server</small><br>
                        <small> <b>Prioritas</b> Layanan Support</small><br>
                        <i class="fa fa-star text-primary"></i><i class="fa fa-star text-primary"></i><i class="fa fa-star text-primary"></i><i class="fa fa-star text-primary"></i><i class="fa fa-star text-primary"></i><br>
                        <small> <b>SpamExpert</b> Pro Mail Protection</small><br>
    
                    </div>
                    <div class="col-12 text-center mt-7">
                        <a class="btn btn-white btn-rounded-circle s btn-outline-black lift py-2 px-5 btn-sm small">Diskon 40%</a>
                    </div>
                    </div> <!-- / .row -->
                </div>
    
    
                </div>
    
            </div>
          </div> <!-- / .row -->
        </div> <!-- / .container -->
    </section>
</template>

<script>
    function formatNumber(angka) {
        var number_string = angka.replace(/[^,\d]/g, "").toString(),
            split = number_string.split(","),
            sisa = split[0].length % 3,
            rupiah = split[0].substr(0, sisa),
            ribuan = split[0].substr(sisa).match(/\d{3}/gi);

        if (ribuan) {
            var separator = sisa ? "." : "";
            rupiah += separator + ribuan.join(".");
        }

        rupiah = split[1] != undefined ? rupiah + "," + split[1] : rupiah;
        return rupiah;
    }
    export default {
        props: [],
        components: {
        },
        data() {
            return {
                text: '',
                inputDisabled: false,
                messages: []
            }
        },
        mounted() {
            this.getPrice();
            Echo.channel('laravel_database_Price.Channel')
                .notification((notification) => {
                    this.getPrice()
                });
        },
        methods: {
            getPrice() {
                axios.get('/api/price').then(res => {
                    res.data.data.forEach(element => {
                        var price_before_discount = element.price_before_discount;
                        var price_after_discount = element.price_after_discount;
                        price_before_discount = formatNumber(price_before_discount.toString());
                        price_after_discount = formatNumber(price_after_discount.toString());

                        var explode = price_after_discount.split(".");

                        $('#'+element.price_category+'_price_before_discount').html(price_before_discount);
                        $('#'+element.price_category+'_price_after_discount1').html(explode[0]);
                        $('#'+element.price_category+'_price_after_discount2').html('.'+explode[1]);

                    });

                })
            },
        }
    }
</script>
